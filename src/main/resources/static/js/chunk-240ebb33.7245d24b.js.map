{"version":3,"sources":["webpack:///./src/components/data/supply/address/addressTable.vue","webpack:///./src/components/data/supply/address/addressEdit.vue","webpack:///src/components/data/supply/address/addressEdit.vue","webpack:///./src/components/data/supply/address/addressEdit.vue?4bc7","webpack:///./src/components/data/supply/address/addressEdit.vue?9762","webpack:///src/components/data/supply/address/addressTable.vue","webpack:///./src/components/data/supply/address/addressTable.vue?2c2a","webpack:///./src/components/data/supply/address/addressTable.vue?ce7c","webpack:///./src/components/data/supply/address/addressEdit.vue?455c"],"names":["render","_vm","this","_c","_self","ref","attrs","searchConfig","on","search","staticClass","getTableData","tableData","tableColumn","query","total","loadings","table","multiCheck","$event","scopedSlots","_u","key","fn","props","_v","_s","row","supplierCode","supplierName","editRow","deleteRow","drawer","rowData","_success","_e","staticRenderFns","ifCreate","direction","ruleForm","rules","staticStyle","remoteMethod","model","value","supplierAddressKey","callback","$$v","$set","expression","_l","supplierList","item","index","supplierKey","addressType","address","save","create","close","components","checkAddress","data","addressKey","province","city","district","detail","required","message","trigger","validator","default","multiple","type","methods","console","supplierAddressAdd","then","catch","supplierAddressUpdate","getSupplierlist","Supplierlist","watch","created","component","reloadAndsearch","TableList","addressEdit","supplyDetail","pageNo","pageSize","res","label","searchData","page","size","params","supplierAddressPage","finally","add","supplierAddressDelete","supplierAddressKeys","success","computed","slots","name","prop","width","fixed","placeholder","field","options"],"mappings":"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EA,8BAIAxC,yBACA,0BAGAyC,SAGAC,mBACA,uBACA,yBACA,iDACA,qDACA,6CACA,qDACA,iDACA,mDACA,kEAEA,iBAEA,iCACA,mECvLkY,I,wBCQ9XC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCYA,GACfzB,YACA0B,uBACAC,iBACAC,eAEA1B,gBACA,OACA2B,gBACAzE,UACAC,UAEAH,OACA4E,SACAC,aAEA1D,WACAD,UACAd,cACAH,WACAH,aACAuC,kBAGAwB,SACAM,2BAAA,WACAC,mCACA,kBAEA,kBACAU,iCACA,qBAAAC,qBAAAjD,0BAGA,8BAIAjC,wBAAA,+GACA,oBACA,IACA,uBAEA,uBACA,+BACA,mCACAmF,OACAC,uBACAC,2BAEA,gCACAC,oDAEAC,qCACA,gCACA,6BAEAC,oBACA,wBAGA1F,qBAAA,WACA,oBACA,IACA,uBAEA,uBACA,+BACA,GACAoC,4EACAkD,uBACAC,0BAKAE,qCACA,gCACA,0BACAtB,uCAEAuB,oBACA,wBAGAC,eACA,kBAEAtE,oBACA,eACA,gBAEAC,sBAAA,WACA6C,2BACAyB,iBAAAC,2CAAA,kBACA,kBACA,4BACA,WACA,kBAEA,iCAIAC,mBACA,eACA,gBACA,gBAGAC,UACA3F,uBACA,OAEA,CAAA4F,OAAAC,wBAAAb,eACA,CAAAc,mBAAAd,aAAAe,WAEA,CAAAD,gBAAAd,UAAAe,eACA,CAAAD,YAAAd,UAAAe,eACA,CAAAD,gBAAAd,UAAAe,eACA,CAAAD,cAAAd,cACA,CAAAY,OAAAC,oBAAAb,WAAAgB,cAAAD,iBAGArG,wBACA,OACA,CACAsF,YACAiB,qBACAC,2BACAnE,SACA8B,cACAsC,8BAKA5B,mBACA,mCACA,2CACA,IACA,iCAGA,yBC/KmY,ICO/X,EAAY,eACd,EACApF,EACAoC,GACA,EACA,KACA,KACA,MAIa,e,oEClBf","file":"js/chunk-240ebb33.7245d24b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('reloadAndsearch',{ref:\"search\",attrs:{\"config\":_vm.searchConfig},on:{\"search\":_vm.search}}),_c('div',{staticClass:\"list-model\"},[_c('TableList',{attrs:{\"pageMethod\":_vm.getTableData,\"searchMethod\":_vm.getTableData,\"table-data\":_vm.tableData,\"tableColumn\":_vm.tableColumn,\"query\":_vm.query,\"total\":_vm.total,\"loading\":_vm.loadings.table,\"multiCheck\":_vm.multiCheck},on:{\"update:query\":function($event){_vm.query=$event}},scopedSlots:_vm._u([{key:\"column-supplier\",fn:function(props){return [_c('div',[_vm._v(_vm._s(props.row.supplierCode)+_vm._s(props.row.supplierName))])]}},{key:\"column-todo\",fn:function(props){return [_c('el-button',{staticClass:\"prohibitclick\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editRow(props.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticClass:\"prohibitclick\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteRow(props.row)}}},[_vm._v(\"删除\")])]}}])}),(_vm.drawer)?_c('addressEdit',{attrs:{\"drawer\":_vm.drawer,\"rowData\":_vm.rowData},on:{\"close\":function($event){_vm.drawer = false},\"success\":function($event){return _vm._success()}}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":_vm.ifCreate ? '新增供应商地址' : '编辑供应商地址',\"visible\":_vm.drawer,\"direction\":_vm.direction,\"close-on-press-escape\":false,\"show-close\":false,\"wrapperClosable\":false,\"append-to-body\":true,\"width\":\"780px\"},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"供应商\",\"prop\":\"supplierAddressKey\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择供应商\",\"clearable\":\"\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteMethod},model:{value:(_vm.ruleForm.supplierAddressKey),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"supplierAddressKey\", $$v)},expression:\"ruleForm.supplierAddressKey\"}},_vm._l((_vm.supplierList),function(item,index){return _c('el-option',{key:item.supplierKey + index,attrs:{\"label\":item.supplierName,\"value\":item.supplierKey}},[_c('div',[_vm._v(\"[\"+_vm._s(item.supplierCode)+\"]\"+_vm._s(item.supplierName))])])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"地址类型\",\"prop\":\"addressType\"}},[_c('el-input',{attrs:{\"placeholder\":\"地址类型\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.addressType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"addressType\", $$v)},expression:\"ruleForm.addressType\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系地址\",\"prop\":\"address\"},model:{value:(_vm.ruleForm.address),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"address\", $$v)},expression:\"ruleForm.address\"}},[_c('checkAddress',{ref:\"address\",attrs:{\"form\":_vm.ruleForm.address},model:{value:(_vm.ruleForm.address),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"address\", $$v)},expression:\"ruleForm.address\"}})],1),_c('el-row',{staticClass:\"dialog_footer\"},[(_vm.ifCreate == false)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.save('ruleForm')}}},[_vm._v(\"提交\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.create('ruleForm')}}},[_vm._v(\"立即创建\")]),_c('el-button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"关闭\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog :title=\"ifCreate ? '新增供应商地址' : '编辑供应商地址'\" :visible.sync=\"drawer\" :direction=\"direction\"\r\n        :close-on-press-escape=\"false\" :show-close=\"false\" :wrapperClosable=\"false\" :append-to-body=\"true\"\r\n        width=\"780px\">\r\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\r\n            <el-form-item label=\"供应商\" prop=\"supplierAddressKey\">\r\n                <el-select v-model=\"ruleForm.supplierAddressKey\" placeholder=\"请选择供应商\" clearable filterable remote\r\n                    :remote-method=\"remoteMethod\" style=\"width: 100%\">\r\n                    <el-option v-for=\"(item, index) in supplierList\" :key=\"item.supplierKey + index\"\r\n                        :label=\"item.supplierName\" :value=\"item.supplierKey\">\r\n                        <div>[{{ item.supplierCode }}]{{ item.supplierName }}</div>\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"地址类型\" prop=\"addressType\">\r\n                <el-input v-model=\"ruleForm.addressType\" placeholder=\"地址类型\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系地址\" prop=\"address\" v-model=\"ruleForm.address\">\r\n                <checkAddress ref=\"address\" v-model=\"ruleForm.address\" :form=\"ruleForm.address\" />\r\n            </el-form-item>\r\n            <el-row class=\"dialog_footer\">\r\n                <el-button type=\"primary\" @click=\"save('ruleForm')\" v-if=\"ifCreate == false\">提交</el-button>\r\n                <el-button type=\"primary\" @click=\"create('ruleForm')\" v-else>立即创建</el-button>\r\n                <el-button @click=\"close()\">关闭</el-button>\r\n            </el-row>\r\n        </el-form>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { supplierAddressUpdate, supplierAddressAdd, Supplierlist } from \"@/api/data\";\r\nimport checkAddress from '@/components/public/checkAddress.vue'\r\nexport default {\r\n    components: {\r\n        checkAddress\r\n    },\r\n    data() {\r\n        var validatePass = (rule, value, callback) => {\r\n            if (this.ruleForm.address.province == '' || this.ruleForm.address.detail == '') {\r\n                callback(new Error('请输入完整地址'));\r\n            }\r\n            callback();\r\n        };\r\n        return {\r\n            // 供应商下拉列表\r\n            supplierList: [],\r\n\r\n            direction: 'btt',\r\n            ifCreate: false,\r\n            ruleForm: {\r\n                addressKey: \"\",\r\n                addressType: \"\",\r\n                supplierAddressKey: \"\",\r\n                address: {\r\n                    province: \"\",\r\n                    city: \"\",\r\n                    district: \"\",\r\n                    detail: \"\"\r\n                }\r\n            },\r\n            rules: {\r\n                supplierAddressKey: [\r\n                    { required: true, message: '请选择供应商', trigger: 'blur' },\r\n                ],\r\n                addressType: [\r\n                    { required: true, message: '请输入地址类型', trigger: 'blur' },\r\n                ],\r\n                address: [\r\n                    { required: true, validator: validatePass, trigger: 'blur' },\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        drawer: {\r\n            default: true,\r\n        },\r\n        rowData: {},\r\n        multiple: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n    },\r\n    methods: {\r\n        close() {\r\n            this.$parent.drawer = false\r\n        },\r\n        //新增\r\n        create(formName) {\r\n            let data = {\r\n                // addressKey:this.ruleForm.addressKey,\r\n                province: this.ruleForm.address.province,\r\n                city: this.ruleForm.address.city,\r\n                district: this.ruleForm.address.district,\r\n                detail: this.ruleForm.address.detail,\r\n                addressType: this.ruleForm.addressType,\r\n                supplierAddressKey: this.ruleForm.supplierAddressKey,\r\n            }\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    supplierAddressAdd(data)\r\n                        .then((res) => {\r\n                            if (res.data.code === 200) {\r\n                                this.$parent.success()\r\n                                this.$forceUpdate()\r\n                                this.$message.success('新增成功!')\r\n                                this._handleFresh()\r\n                            } else {\r\n                                this.$message.error(res.msg)\r\n                            }\r\n                        })\r\n                        .catch((e) => {\r\n                            console.log(e);\r\n                        });\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        //更新\r\n        save(formName) {\r\n            let data = {\r\n                addressKey: this.ruleForm.addressKey,\r\n                province: this.ruleForm.address.province,\r\n                city: this.ruleForm.address.city,\r\n                district: this.ruleForm.address.district,\r\n                detail: this.ruleForm.address.detail,\r\n                addressType: this.ruleForm.addressType,\r\n                supplierAddressKey: this.ruleForm.supplierAddressKey,\r\n            }\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    supplierAddressUpdate(data)\r\n                        .then((res) => {\r\n                            if (res.data.code === 200) {\r\n                                this.$parent.success()\r\n                                this.$forceUpdate()\r\n                                this.$message.success('修改成功!')\r\n                                this._handleFresh()\r\n                            } else {\r\n                                this.$message.error(res.msg)\r\n                            }\r\n                        })\r\n                        .catch((e) => {\r\n                            console.log(e);\r\n                        });\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            })\r\n        },\r\n        getSupplierlist() {\r\n            Supplierlist().then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.supplierList = res.data.data\r\n                } else {\r\n                    this.$message.error(\"获取失败!\");\r\n                }\r\n            });\r\n        },\r\n        remoteMethod(e) {\r\n            this.getSupplierList(e)\r\n        }\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    created() {\r\n        this.getSupplierlist()\r\n        if (this.rowData.addressKey) {\r\n            this.ruleForm.addressKey = this.rowData.addressKey\r\n            this.ruleForm.address.province = this.rowData.province\r\n            this.ruleForm.address.city = this.rowData.city\r\n            this.ruleForm.address.district = this.rowData.district\r\n            this.ruleForm.address.detail = this.rowData.detail\r\n            this.ruleForm.addressType = this.rowData.addressType\r\n            this.ruleForm.supplierAddressKey = this.rowData.supplierAddressKey\r\n        } else {\r\n            this.ifCreate = true\r\n        }\r\n        if(this.$route.params.supplierKey){\r\n            this.ruleForm.supplierAddressKey = this.$route.params.supplierKey\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/ .input-number {\r\n    .el-input-number__decrease,\r\n    .el-input-number__increase {\r\n        height: 34px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addressEdit.vue?vue&type=template&id=646c469e&scoped=true&\"\nimport script from \"./addressEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./addressEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addressEdit.vue?vue&type=style&index=0&id=646c469e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"646c469e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <reloadAndsearch ref=\"search\" :config=\"searchConfig\" @search=\"search\" />\r\n\r\n    <div class=\"list-model\">\r\n      <TableList :pageMethod=\"getTableData\" :searchMethod=\"getTableData\" :table-data=\"tableData\"\r\n        :tableColumn=\"tableColumn\" :query.sync=\"query\" :total=\"total\" :loading=\"loadings.table\"\r\n        :multiCheck=\"multiCheck\">\r\n\r\n        <!-- <template v-slot:column-address=\"props\">\r\n          <div>{{ props.row.province }}{{props.row.city}}{{props.row.district}}{{props.row.detail }}</div>\r\n        </template> -->\r\n        <template v-slot:column-supplier=\"props\">\r\n          <div>{{ props.row.supplierCode }}{{ props.row.supplierName }}</div>\r\n        </template>\r\n\r\n        <template v-slot:column-todo=\"props\">\r\n          <el-button class=\"prohibitclick\" @click=\"editRow(props.row)\" type=\"text\" size=\"small\">编辑</el-button>\r\n          <el-button class=\"prohibitclick\" @click=\"deleteRow(props.row)\" type=\"text\" size=\"small\">删除</el-button>\r\n        </template>\r\n      </TableList>\r\n      <addressEdit v-if=\"drawer\" :drawer=\"drawer\" :rowData=\"rowData\" @close=\"drawer = false\" @success=\"_success()\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport reloadAndsearch from \"@/components/public/reloadAndsearch/reloadAndsearch.vue\";\r\nimport TableList from \"@/components/public/tableList\";\r\nimport { supplierAddressPage, supplierAddressDelete, Supplierlist } from \"@/api/data\";\r\nimport addressEdit from \"./addressEdit\";\r\nexport default {\r\n  components: {\r\n    reloadAndsearch,\r\n    TableList,\r\n    addressEdit\r\n  },\r\n  data() {\r\n    return {\r\n      supplyDetail: {},\r\n      loadings: {\r\n        table: true,\r\n      },\r\n      query: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n      },\r\n      rowData: {},\r\n      drawer: false,\r\n      multiCheck: true,\r\n      total: null,\r\n      tableData: [],\r\n      supplierList: []\r\n    }\r\n  },\r\n  methods: {\r\n    getSupplierlist() {\r\n      Supplierlist().then(res => {\r\n        if (res.data.code == 200) {\r\n          // this.supplierList = res.data.data\r\n          this.supplierList = []\r\n          res.data.data.forEach(item => {\r\n            this.supplierList.push({ label: item.supplierName, value: item.supplierKey })\r\n          });\r\n        } else {\r\n          this.$message.error(\"获取失败!\");\r\n        }\r\n      });\r\n    },\r\n    getTableData(pageNo = 1, pageSize) {\r\n      this.query.pageNo = pageNo;\r\n      if (pageSize) {\r\n        this.query.pageSize = pageSize;\r\n      }\r\n      this.loadings.table = true;\r\n      const searchData = this.$refs.search.search\r\n      let params = {\r\n        ...searchData,\r\n        page: this.query.pageNo,\r\n        size: this.query.pageSize,\r\n      }\r\n      if (this.supplyDetail.supplierKey) {\r\n        params.supplierAddressKey = this.supplyDetail.supplierKey\r\n      }\r\n      supplierAddressPage(params).then((res) => {\r\n        this.tableData = res.data.data.records;\r\n        this.total = res.data.data.total;\r\n      })\r\n      .finally(() => {\r\n          this.loadings.table = false;\r\n        });\r\n    },\r\n    search(pageNo, pageSize) {\r\n      this.query.pageNo = pageNo;\r\n      if (pageSize) {\r\n        this.query.pageSize = pageSize;\r\n      }\r\n      this.loadings.table = true;\r\n      const searchData = this.$refs.search.search\r\n      let params = {\r\n        supplierAddressKey: searchData.supplierAddressKey||this.$route.params.supplierKey||\"\",\r\n        page: this.query.pageNo,\r\n        size: this.query.pageSize,\r\n      }\r\n      // if (this.supplyDetail.supplierKey) {\r\n      //   params.supplierAddressKey = this.supplyDetail.supplierKey\r\n      // }\r\n      supplierAddressPage(params).then((res) => {\r\n        this.tableData = res.data.data.records;\r\n        this.total = res.data.data.total;\r\n        console.log(\"skuList:\", this.tableData);\r\n      })\r\n        .finally(() => {\r\n          this.loadings.table = false\r\n        })\r\n    },\r\n    add() {\r\n      this.editRow({})\r\n    },\r\n    editRow(row) {\r\n      this.rowData = row;\r\n      this.drawer = true;\r\n    },\r\n    deleteRow(row) {\r\n      console.log(\"deleteRow\", row);\r\n      supplierAddressDelete({ supplierAddressKeys: row.supplierAddressKey }).then((res) => {\r\n        if (res.data.code == 200) {\r\n          this.$message.success(\"删除成功!\");\r\n          this.search();\r\n          this.$forceUpdate();\r\n        } else {\r\n          this.$message.error(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    success() {\r\n      this.drawer = false;\r\n      this.rowData = {};\r\n      this.search()\r\n    },\r\n  },\r\n  computed: {\r\n    tableColumn() {\r\n      return [\r\n        // { prop: \"supplierAddressKey\", label: \"所属供应商\", width: 250 },\r\n        { slots: { name: \"column-supplier\" }, label: \"所属供应商\" },\r\n        { prop: \"addressType\", label: \"地址类型\", width: 180 },\r\n        // { slots: { name: \"column-address\" }, label: \"地址\" },\r\n        { prop: \"province\", label: \"省\", width:\"100px\" },\r\n        { prop: \"city\", label: \"市\", width:\"100px\" },\r\n        { prop: \"district\", label: \"区\", width:\"100px\" },\r\n        { prop: \"detail\", label: \"详细地址\" },\r\n        { slots: { name: \"column-todo\" }, label: \"操作\", fixed: \"right\", width: '120px' },\r\n      ];\r\n    },\r\n    searchConfig() {\r\n      return[\r\n      {\r\n          label: '请选择',\r\n          placeholder: '请选择供应商',\r\n          field: 'supplierAddressKey',\r\n          value: '',\r\n          type: \"select\",\r\n          options: this.supplierList\r\n        },\r\n      ]\r\n     }\r\n  },\r\n  created() {\r\n    if (this.$route.params.supplierKey) {\r\n      let rowData = localStorage.getItem('supplyDetail')\r\n      if (rowData) {\r\n        this.supplyDetail = JSON.parse(rowData)\r\n      }\r\n    }\r\n    this.getSupplierlist()\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addressTable.vue?vue&type=template&id=7a46f472&\"\nimport script from \"./addressTable.vue?vue&type=script&lang=js&\"\nexport * from \"./addressTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressEdit.vue?vue&type=style&index=0&id=646c469e&prod&lang=scss&scoped=true&\""],"sourceRoot":""}