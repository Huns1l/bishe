(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13c9049a"],{"15d4":function(e,t,o){"use strict";o.d(t,"e",(function(){return a})),o.d(t,"a",(function(){return s})),o.d(t,"f",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"j",(function(){return d})),o.d(t,"g",(function(){return p})),o.d(t,"k",(function(){return m})),o.d(t,"h",(function(){return h})),o.d(t,"i",(function(){return f}));var r=o("b775"),u=(o("4328"),"/api");function a(e){return Object(r["a"])({url:u+"/returnCheck/list-page",method:"get",params:e})}function s(e){return Object(r["a"])({url:u+"/returnCheck/add",method:"POST",data:e})}function n(e){return Object(r["a"])({url:u+"/returnCheck/update",method:"POST",data:e})}function i(e){return Object(r["a"])({url:u+"/returnCheck/delete",method:"POST",data:e})}function l(e){return Object(r["a"])({url:u+"/returnCheck/delete-list",method:"POST",data:e})}function c(e){return Object(r["a"])({url:u+"/returnCheck/getById",method:"get",params:e})}function d(e){return Object(r["a"])({url:u+"/transferCheck/list-page",method:"get",params:e})}function p(e){return Object(r["a"])({url:u+"/transferCheck/add",method:"POST",data:e})}function m(e){return Object(r["a"])({url:u+"/transferCheck/update",method:"POST",data:e})}function h(e){return Object(r["a"])({url:u+"/transferCheck/delete",method:"POST",data:e})}function f(e){return Object(r["a"])({url:u+"/transferCheck/delete-list",method:"POST",data:e})}},"3d08":function(e,t,o){"use strict";o("c4c1")},"3d18":function(e,t,o){"use strict";o("3ffc")},"3ffc":function(e,t,o){},"4ec3":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"e",(function(){return i})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return c})),o.d(t,"d",(function(){return d})),o.d(t,"f",(function(){return p}));o("751a");var r=o("4328"),u=o.n(r),a=o("b775"),s="/api";function n(e){return Object(a["a"])({url:s+"/user/list",method:"get",params:u.a.parse(e)})}function i(e){return Object(a["a"])({url:s+"/user/selectUserPage",method:"get",params:u.a.parse(e)})}function l(e){return Object(a["a"])({url:s+"/user/createUser",method:"post",data:u.a.parse(e)})}function c(e){return Object(a["a"])({url:s+"/user/deleteUserById",method:"get",params:u.a.parse(e)})}function d(e){return Object(a["a"])({url:s+"/user/deleteUserByIdList",method:"get",params:u.a.parse(e)})}function p(e){return Object(a["a"])({url:s+"/user/updateUserById",method:"post",data:u.a.parse(e)})}},"4ec9":function(e,t,o){o("6f48")},"4fad":function(e,t,o){var r=o("d039"),u=o("861d"),a=o("c6b6"),s=o("d86b"),n=Object.isExtensible,i=r((function(){n(1)}));e.exports=i||s?function(e){return!!u(e)&&((!s||"ArrayBuffer"!=a(e))&&(!n||n(e)))}:n},"64dc":function(e,t,o){"use strict";o.d(t,"x",(function(){return a})),o.d(t,"y",(function(){return s})),o.d(t,"u",(function(){return n})),o.d(t,"g",(function(){return i})),o.d(t,"v",(function(){return l})),o.d(t,"w",(function(){return c})),o.d(t,"m",(function(){return d})),o.d(t,"e",(function(){return p})),o.d(t,"d",(function(){return m})),o.d(t,"a",(function(){return h})),o.d(t,"f",(function(){return f})),o.d(t,"b",(function(){return v})),o.d(t,"c",(function(){return b})),o.d(t,"o",(function(){return C})),o.d(t,"s",(function(){return F})),o.d(t,"r",(function(){return y})),o.d(t,"n",(function(){return g})),o.d(t,"t",(function(){return O})),o.d(t,"p",(function(){return k})),o.d(t,"q",(function(){return w})),o.d(t,"k",(function(){return N})),o.d(t,"h",(function(){return P})),o.d(t,"l",(function(){return S})),o.d(t,"i",(function(){return T})),o.d(t,"j",(function(){return D}));var r=o("b775"),u=(o("4328"),"/api");function a(e){return Object(r["a"])({url:u+"/SupplierInventory/list",method:"get",params:e})}function s(e){return Object(r["a"])({url:u+"/SupplierInventory/list-page",method:"get",params:e})}function n(e){return Object(r["a"])({url:u+"/SupplierInventory/add",method:"POST",data:e})}function i(e){return Object(r["a"])({url:u+"/SupplierInventory/update",method:"POST",data:e})}function l(e){return Object(r["a"])({url:u+"/SupplierInventory/delete",method:"POST",data:e})}function c(e){return Object(r["a"])({url:u+"/SupplierInventory/delete-list",method:"POST",data:e})}function d(e){return Object(r["a"])({url:u+"/ShopInventory/getByshopCode",method:"get",params:e})}function p(e){return Object(r["a"])({url:u+"/ShopInventory/list-page",method:"get",params:e})}function m(e){return Object(r["a"])({url:u+"/ShopInventory/list",method:"get",params:e})}function h(e){return Object(r["a"])({url:u+"/ShopInventory/add",method:"POST",data:e})}function f(e){return Object(r["a"])({url:u+"/ShopInventory/update",method:"POST",data:e})}function v(e){return Object(r["a"])({url:u+"/ShopInventory/delete",method:"POST",data:e})}function b(e){return Object(r["a"])({url:u+"/ShopInventory/delete-list",method:"POST",data:e})}function C(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/getByShopCode",method:"get",params:e})}function F(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/list-page",method:"get",params:e})}function y(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/list",method:"get",params:e})}function g(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/add",method:"POST",data:e})}function O(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/update",method:"POST",data:e})}function k(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/delete",method:"POST",data:e})}function w(e){return Object(r["a"])({url:u+"/shopkeeperWarehouse/delete-list",method:"POST",data:e})}function N(e){return Object(r["a"])({url:u+"/detailWarehouse/list-page",method:"get",params:e})}function P(e){return Object(r["a"])({url:u+"/detailWarehouse/add",method:"POST",data:e})}function S(e){return Object(r["a"])({url:u+"/detailWarehouse/update",method:"POST",data:e})}function T(e){return Object(r["a"])({url:u+"/detailWarehouse/delete",method:"POST",data:e})}function D(e){return Object(r["a"])({url:u+"/detailWarehouse/delete-list",method:"POST",data:e})}},6566:function(e,t,o){"use strict";var r=o("9bf2").f,u=o("7c73"),a=o("6964"),s=o("0366"),n=o("19aa"),i=o("7234"),l=o("2266"),c=o("c6d2"),d=o("4754"),p=o("2626"),m=o("83ab"),h=o("f183").fastKey,f=o("69f3"),v=f.set,b=f.getterFor;e.exports={getConstructor:function(e,t,o,c){var d=e((function(e,r){n(e,p),v(e,{type:t,index:u(null),first:void 0,last:void 0,size:0}),m||(e.size=0),i(r)||l(r,e[c],{that:e,AS_ENTRIES:o})})),p=d.prototype,f=b(t),C=function(e,t,o){var r,u,a=f(e),s=F(e,t);return s?s.value=o:(a.last=s={index:u=h(t,!0),key:t,value:o,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),m?a.size++:e.size++,"F"!==u&&(a.index[u]=s)),e},F=function(e,t){var o,r=f(e),u=h(t);if("F"!==u)return r.index[u];for(o=r.first;o;o=o.next)if(o.key==t)return o};return a(p,{clear:function(){var e=this,t=f(e),o=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete o[r.index],r=r.next;t.first=t.last=void 0,m?t.size=0:e.size=0},delete:function(e){var t=this,o=f(t),r=F(t,e);if(r){var u=r.next,a=r.previous;delete o.index[r.index],r.removed=!0,a&&(a.next=u),u&&(u.previous=a),o.first==r&&(o.first=u),o.last==r&&(o.last=a),m?o.size--:t.size--}return!!r},forEach:function(e){var t,o=f(this),r=s(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:o.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!F(this,e)}}),a(p,o?{get:function(e){var t=F(this,e);return t&&t.value},set:function(e,t){return C(this,0===e?0:e,t)}}:{add:function(e){return C(this,e=0===e?0:e,e)}}),m&&r(p,"size",{get:function(){return f(this).size}}),d},setStrong:function(e,t,o){var r=t+" Iterator",u=b(t),a=b(r);c(e,t,(function(e,t){v(this,{type:r,target:e,state:u(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,o=e.last;while(o&&o.removed)o=o.previous;return e.target&&(e.last=o=o?o.next:e.state.first)?d("keys"==t?o.key:"values"==t?o.value:[o.key,o.value],!1):(e.target=void 0,d(void 0,!0))}),o?"entries":"values",!o,!0),p(t)}}},6964:function(e,t,o){var r=o("cb2d");e.exports=function(e,t,o){for(var u in t)r(e,u,t[u],o);return e}},"6d61":function(e,t,o){"use strict";var r=o("23e7"),u=o("da84"),a=o("e330"),s=o("94ca"),n=o("cb2d"),i=o("f183"),l=o("2266"),c=o("19aa"),d=o("1626"),p=o("7234"),m=o("861d"),h=o("d039"),f=o("1c7e"),v=o("d44e"),b=o("7156");e.exports=function(e,t,o){var C=-1!==e.indexOf("Map"),F=-1!==e.indexOf("Weak"),y=C?"set":"add",g=u[e],O=g&&g.prototype,k=g,w={},N=function(e){var t=a(O[e]);n(O,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(F&&!m(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return F&&!m(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(F&&!m(e))&&t(this,0===e?0:e)}:function(e,o){return t(this,0===e?0:e,o),this})},P=s(e,!d(g)||!(F||O.forEach&&!h((function(){(new g).entries().next()}))));if(P)k=o.getConstructor(t,e,C,y),i.enable();else if(s(e,!0)){var S=new k,T=S[y](F?{}:-0,1)!=S,D=h((function(){S.has(1)})),$=f((function(e){new g(e)})),j=!F&&h((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));$||(k=t((function(e,t){c(e,O);var o=b(new g,e,k);return p(t)||l(t,o[y],{that:o,AS_ENTRIES:C}),o})),k.prototype=O,O.constructor=k),(D||j)&&(N("delete"),N("has"),C&&N("get")),(j||T)&&N(y),F&&O.clear&&delete O.clear}return w[e]=k,r({global:!0,constructor:!0,forced:k!=g},w),v(k,e),F||o.setStrong(k,e,C),k}},"6f48":function(e,t,o){"use strict";var r=o("6d61"),u=o("6566");r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),u)},"70b6":function(e,t,o){"use strict";o("a4d3"),o("e01a");var r=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{size:"30%",title:e.ifCreate?"新增退货单":"编辑退货单",visible:e.drawer,direction:e.direction,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,wrapperClosable:!1,"append-to-body":!0,width:"1200px"},on:{"update:visible":function(t){e.drawer=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"门店",prop:"shopCode"}},[t("el-select",{ref:"selection",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"门店",clearable:"",disabled:""},model:{value:e.ruleForm.shopCode,callback:function(t){e.$set(e.ruleForm,"shopCode",t)},expression:"ruleForm.shopCode"}},e._l(e.shopOptions,(function(o){return t("el-option",{key:o.shopKey,attrs:{label:o.shopName,value:o.shopCode},nativeOn:{click:function(t){return e.setShopName.apply(null,arguments)}}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"商品",prop:"goodsCode"}},[t("el-select",{ref:"goodsSelect",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"商品",clearable:"",disabled:""},model:{value:e.ruleForm.goodsCode,callback:function(t){e.$set(e.ruleForm,"goodsCode",t)},expression:"ruleForm.goodsCode"}},e._l(e.goodsOptions,(function(o){return t("el-option",{key:o.goodsCode,attrs:{label:o.goodsName,value:o.goodsCode},nativeOn:{click:function(t){return e.setGoodsName.apply(null,arguments)}}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"客户",prop:"customerCode"}},[t("el-select",{ref:"customerSelect",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"客户",clearable:"",disabled:""},model:{value:e.ruleForm.customerCode,callback:function(t){e.$set(e.ruleForm,"customerCode",t)},expression:"ruleForm.customerCode"}},e._l(e.customerOptions,(function(o){return t("el-option",{key:o.customerKey,attrs:{label:o.customerName,value:o.customerCode},nativeOn:{click:function(t){return e.setSupplierName.apply(null,arguments)}}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"仓库",prop:"inventoryCode"}},[t("el-select",{ref:"inventorySelect",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"仓库",clearable:"",disabled:""},model:{value:e.ruleForm.inventoryCode,callback:function(t){e.$set(e.ruleForm,"inventoryCode",t)},expression:"ruleForm.inventoryCode"}},e._l(e.inventoryOptions,(function(o){return t("el-option",{key:o.inventoryKey,attrs:{label:o.inventoryName,value:o.inventoryCode,disabled:1!=o.status},nativeOn:{click:function(t){return e.setPosition.apply(null,arguments)}}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"库位",prop:"positionCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"库位",clearable:"",disabled:""},model:{value:e.ruleForm.positionCode,callback:function(t){e.$set(e.ruleForm,"positionCode",t)},expression:"ruleForm.positionCode"}},e._l(e.positionOptions,(function(e){return t("el-option",{key:e.positionCode,attrs:{label:e.positionCode,value:e.positionCode,clearable:"",placeholder:"库位"}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"计划数",prop:"outputPlan"}},[t("el-input",{attrs:{clearable:"",placeholder:"计划数",min:0,disabled:"",type:"Number"},model:{value:e.ruleForm.outputPlan,callback:function(t){e.$set(e.ruleForm,"outputPlan",t)},expression:"ruleForm.outputPlan"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"出库价格",prop:"outputPrice"}},[t("el-input",{attrs:{clearable:"",placeholder:"出库价格",min:0,disabled:"",type:"Number"},model:{value:e.ruleForm.outputPrice,callback:function(t){e.$set(e.ruleForm,"outputPrice",t)},expression:"ruleForm.outputPrice"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"实际数",prop:"outputActual"}},[t("el-input",{attrs:{clearable:"",placeholder:"实际数",min:0,disabled:"",type:"Number"},model:{value:e.ruleForm.outputActual,callback:function(t){e.$set(e.ruleForm,"outputActual",t)},expression:"ruleForm.outputActual"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"出库类型",prop:"type"}},[t("el-select",{attrs:{size:"small",placeholder:"出库类型",clearable:"",disabled:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-option",{attrs:{label:"零售出库",value:0}}),t("el-option",{attrs:{label:"客户订购",value:1}}),t("el-option",{attrs:{label:"调货出库",value:2}})],1)],1)],1),t("el-col",{attrs:{span:10}},[t("span",{staticStyle:{"margin-left":"8%"}},[e._v("起止日期")]),t("el-date-picker",{staticStyle:{width:"310px","margin-left":"10px"},attrs:{type:"daterange",align:"right",disabled:"",size:"large","unlink-panels":"","range-separator":"至","start-placeholder":"预计日期","end-placeholder":"最迟日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss"},nativeOn:{click:function(t){return e.setTime.apply(null,arguments)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"门店操作员",prop:"shopPeopleCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"门店操作员",clearable:"",disabled:""},model:{value:e.ruleForm.shopPeopleCode,callback:function(t){e.$set(e.ruleForm,"shopPeopleCode",t)},expression:"ruleForm.shopPeopleCode"}},e._l(e.userOptions,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userCode}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"仓库操作员",prop:"inventoryPeopleCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"仓库操作员",disabled:"",clearable:""},model:{value:e.ruleForm.inventoryPeopleCode,callback:function(t){e.$set(e.ruleForm,"inventoryPeopleCode",t)},expression:"ruleForm.inventoryPeopleCode"}},e._l(e.userOptions1,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userCode}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"申请退货数",prop:"checkNum"}},[t("el-input",{attrs:{clearable:"",placeholder:"申请退货数",min:0,type:"Number"},model:{value:e.ruleForm.checkNum,callback:function(t){e.$set(e.ruleForm,"checkNum",t)},expression:"ruleForm.checkNum"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"退货原因",prop:"returnReason"}},[t("el-input",{attrs:{clearable:"",placeholder:"退货原因",type:"textarea"},model:{value:e.ruleForm.returnReason,callback:function(t){e.$set(e.ruleForm,"returnReason",t)},expression:"ruleForm.returnReason"}})],1)],1)],1),e.ifShow?t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"审批结果",prop:"checkStatus"}},[t("el-select",{attrs:{size:"small",placeholder:"审批结果",clearable:"",disabled:""},model:{value:e.ruleForm.checkStatus,callback:function(t){e.$set(e.ruleForm,"checkStatus",t)},expression:"ruleForm.checkStatus"}},[t("el-option",{attrs:{label:"未审批",value:0,disabled:""}},[t("span",{staticStyle:{float:"left"}},[t("i",{staticClass:"el-icon-minus"}),e._v(" 未审批 ")])]),t("el-option",{attrs:{label:"同意",value:1}},[t("span",{staticStyle:{float:"left"}},[t("i",{staticClass:"el-icon-check"}),e._v(" 同意 ")])]),t("el-option",{attrs:{label:"驳回",value:2}},[t("span",{staticStyle:{float:"left"}},[t("i",{staticClass:"el-icon-close"}),e._v(" 驳回 ")])])],1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"审批意见",prop:"description"}},[t("el-input",{attrs:{clearable:"",placeholder:"审批意见",type:"textarea",disabled:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1)],1):e._e()],1),t("div",{staticClass:"dialog_footer"},[0==e.ifCreate?t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("ruleForm")}}},[e._v("提交")]):t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.create("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){return e.close()}}},[e._v("取消")])],1)],1)},u=[],a=(o("4de4"),o("d3b7"),o("159b"),o("15d4")),s=o("7e1e"),n=o("64dc"),i=o("4ec3"),l=o("c1df"),c=o.n(l),d={name:"guestEdit",data:function(){return{direction:"btt",ifCreate:!1,ruleForm:{returnCheckKey:"",outputWarehouseKey:"",shopCode:"",shopName:"",goodsCode:"",goodsName:"",customerCode:"",customerName:"",outputPlan:"",outputPrice:"",outputActual:"",inventoryCode:"",positionCode:"",createTime:"",deadlineTime:"",vehicleCode:"",status:"",type:"",checkNum:"",checkStatus:0,description:"",shopPeopleCode:"",inventoryPeopleCode:"",isDeleted:"",returnReason:"",returnNum:"",checkType:1,inputOutputKey:""},shopOptions:[],goodsOptions:[],positionOptions:[],customerOptions:[],inventoryOptions:[],vehicleOptions:[],userOptions:[],userOptions1:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,o=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",[o,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,o=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",[o,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,o=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",[o,t])}}]},value2:"",rules:{shopCode:[{required:!0,message:"请选择门店",trigger:"blur"}],goodsCode:[{required:!0,message:"请选择商品",trigger:"blur"}],customerCode:[{required:!0,message:"请选择客户",trigger:"blur"}],inventoryCode:[{required:!0,message:"请选择仓库",trigger:"blur"}],outputPlan:[{required:!0,message:"请设置计划数",trigger:"blur"}],outputPrice:[{required:!0,message:"请设置出库价格",trigger:"blur"}],type:[{required:!0,message:"请设置出库类型",trigger:"blur"}],checkNum:[{required:!0,message:"请设置退货数",trigger:"blur"}],returnReason:[{required:!0,message:"请设置退货原因",trigger:"blur"}]}}},props:{drawer:{default:!0},rowData:{},ifShow:{default:!0}},watch:{},created:function(){this.getshoplist(),this.getgoodslist(),this.getCustomerList(),this.getUserList(),this.rowData.outputWarehouseKey?(this.ruleForm.inputOutputKey=this.rowData.inputOutputKey,this.ruleForm.outputWarehouseKey=this.rowData.outputWarehouseKey,this.ruleForm.returnCheckKey=this.rowData.returnCheckKey,this.ruleForm.shopCode=this.rowData.shopCode,this.ruleForm.shopName=this.rowData.shopName,this.ruleForm.goodsCode=this.rowData.goodsCode,this.ruleForm.goodsName=this.rowData.goodsName,this.ruleForm.customerCode=this.rowData.customerCode,this.ruleForm.customerName=this.rowData.customerName,this.ruleForm.outputPlan=this.rowData.outputPlan,this.ruleForm.outputPrice=this.rowData.outputPrice,this.ruleForm.outputActual=this.rowData.outputActual,this.ruleForm.inventoryCode=this.rowData.inventoryCode,this.ruleForm.positionCode=this.rowData.positionCode,this.ruleForm.createTime=this.rowData.createTime,this.ruleForm.deadlineTime=this.rowData.deadlineTime,this.ruleForm.vehicleCode=this.rowData.vehicleCode,this.ruleForm.status=this.rowData.status,this.ruleForm.type=this.rowData.type,this.ruleForm.shopPeopleCode=this.rowData.shopPeopleCode,this.ruleForm.isDeleted=this.rowData.isDeleted,this.ruleForm.inventoryPeopleCode=this.rowData.inventoryPeopleCode,this.ruleForm.returnReason=this.rowData.returnReason,this.ruleForm.checkNum=this.rowData.checkNum,this.ruleForm.description=this.rowData.description,this.ruleForm.returnNum=this.rowData.returnNum,this.value2=[this.rowData.createTime,this.rowData.deadlineTime],this.ruleForm.returnCheckKey?this.ifCreate=!1:this.ifCreate=!0):this.ifCreate=!0,this.getShopInventoryList()},methods:{getUserList:function(){var e=this;Object(i["a"])({userType:2}).then((function(t){e.userOptions=t.data.data,e.$forceUpdate()})).catch((function(e){console.log(e)})),Object(i["a"])({userType:1}).then((function(t){e.userOptions1=t.data.data,e.$forceUpdate()})).catch((function(e){console.log(e)}))},getshoplist:function(){var e=this;Object(s["nb"])().then((function(t){200==t.data.code?e.shopOptions=t.data.data:e.$message.error("获取失败!")}))},getgoodslist:function(){var e=this;Object(s["V"])().then((function(t){200==t.data.code?e.goodsOptions=t.data.data:e.$message.error("获取失败!")}))},getCustomerList:function(){var e=this;Object(s["e"])().then((function(t){200==t.data.code?e.customerOptions=t.data.data:e.$message.error("获取失败!")}))},getShopInventoryList:function(){var e=this;Object(n["m"])({shopCode:this.ruleForm.shopCode}).then((function(t){200==t.data.code?(e.inventoryOptions=t.data.data,e.getpositionList()):e.$message.error("获取失败!")}))},setShopName:function(){this.getShopInventoryList(),this.ruleForm.shopName=this.$refs.selection.selectedLabel},setCustomerName:function(){this.ruleForm.customerName=this.$refs.customerSelect.selectedLabel},setGoodsName:function(){console.log(this.$refs.goodsSelect.selectedLabel),this.ruleForm.goodsName=this.$refs.goodsSelect.selectedLabel},setPosition:function(){var e=this;this.ruleForm.inventoryName=this.$refs.inventorySelect.selectedLabel;var t=this.inventoryOptions.filter((function(t){return t.inventoryCode==e.ruleForm.inventoryCode}));this.getpositionList(t[0].inventoryKey)},getpositionList:function(){var e=this;this.inventoryOptions.forEach((function(t){t.inventoryCode==e.ruleForm.inventoryCode&&Object(s["gb"])({inventoryKey:t.inventoryKey}).then((function(t){200==t.data.code?e.positionOptions=t.data.data:e.$message.error("获取失败!")}))}))},setTime:function(){this.ruleForm.createTime=this.value2[0],this.ruleForm.deadlineTime=this.value2[1]},close:function(){this.$parent.drawer=!1,this.$emit("close")},save:function(e){var t=this;this.ruleForm.createTime=this.value2[0],this.ruleForm.deadlineTime=this.value2[1],this.$refs[e].validate((function(e){if(e){var o={returnCheckKey:t.ruleForm.returnCheckKey,description:t.ruleForm.description,checkType:t.ruleForm.checkType,inputOutputKey:t.ruleForm.outputWarehouseKey,checkStatus:0,happenTime:c()().format("YYYY-MM-DD HH:mm:ss"),checkTime:t.ruleForm.checkTime,checkNum:t.ruleForm.checkNum,outputWarehouse:{outputWarehouseKey:t.ruleForm.outputWarehouseKey,shopCode:t.ruleForm.shopCode,shopName:t.ruleForm.shopName,goodsCode:t.ruleForm.goodsCode,goodsName:t.ruleForm.goodsName,customerCode:t.ruleForm.customerCode,customerName:t.ruleForm.customerName,outputPlan:t.ruleForm.outputPlan,outputPrice:t.ruleForm.outputPrice,outputActual:t.ruleForm.outputActual,inventoryCode:t.ruleForm.inventoryCode,positionCode:t.ruleForm.positionCode,createTime:t.ruleForm.createTime,deadlineTime:t.ruleForm.deadlineTime,isDeleted:t.ruleForm.isDeleted,vehicleCode:t.ruleForm.vehicleCode,status:t.ruleForm.status,type:t.ruleForm.type,shopPeopleCode:t.ruleForm.shopPeopleCode,inventoryPeopleCode:t.ruleForm.inventoryPeopleCode,returnReason:t.ruleForm.returnReason,returnNum:t.ruleForm.returnNum}};returnCheckUpdate(o).then((function(e){200==e.data.code?(t.$message.success("编辑成功!"),t.$parent.success(),t.$forceUpdate()):t.$message.error("编辑失败!")}))}else t.$message.error("编辑失败!")}))},create:function(e){var t=this;this.ruleForm.createTime=this.value2[0],this.ruleForm.deadlineTime=this.value2[1],this.$refs[e].validate((function(e){if(e){var o={returnCheckKey:t.ruleForm.returnCheckKey,description:t.ruleForm.description,checkType:t.ruleForm.checkType,inputOutputKey:t.ruleForm.outputWarehouseKey,checkStatus:0,happenTime:c()().format("YYYY-MM-DD HH:mm:ss"),checkTime:t.ruleForm.checkTime,checkNum:t.ruleForm.checkNum,outputWarehouse:{outputWarehouseKey:t.ruleForm.outputWarehouseKey,shopCode:t.ruleForm.shopCode,shopName:t.ruleForm.shopName,goodsCode:t.ruleForm.goodsCode,goodsName:t.ruleForm.goodsName,customerCode:t.ruleForm.customerCode,customerName:t.ruleForm.customerName,outputPlan:t.ruleForm.outputPlan,outputPrice:t.ruleForm.outputPrice,outputActual:t.ruleForm.outputActual,inventoryCode:t.ruleForm.inventoryCode,positionCode:t.ruleForm.positionCode,createTime:t.ruleForm.createTime,deadlineTime:t.ruleForm.deadlineTime,isDeleted:t.ruleForm.isDeleted,vehicleCode:t.ruleForm.vehicleCode,status:t.ruleForm.status,type:t.ruleForm.type,shopPeopleCode:t.ruleForm.shopPeopleCode,inventoryPeopleCode:t.ruleForm.inventoryPeopleCode,returnReason:t.ruleForm.returnReason,returnNum:t.ruleForm.returnNum}};Object(a["a"])(o).then((function(e){200==e.data.code?(t.$message.success("编辑成功!"),t.$parent.success(),t.$forceUpdate()):t.$message.error("编辑失败!")}))}else t.$message.error("编辑失败!")}))}}},p=d,m=(o("3d18"),o("2877")),h=Object(m["a"])(p,r,u,!1,null,null,null);t["a"]=h.exports},"751a":function(e,t,o){"use strict";o("b775")},b7be:function(e,t,o){"use strict";o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s})),o.d(t,"a",(function(){return n})),o.d(t,"f",(function(){return i})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return c}));var r=o("b775"),u=(o("4328"),"/api");function a(e){return Object(r["a"])({url:u+"/outputWarehouse/list",method:"get",params:e})}function s(e){return Object(r["a"])({url:u+"/outputWarehouse/list-page",method:"get",params:e})}function n(e){return Object(r["a"])({url:u+"/outputWarehouse/add",method:"POST",data:e})}function i(e){return Object(r["a"])({url:u+"/outputWarehouse/update",method:"POST",data:e})}function l(e){return Object(r["a"])({url:u+"/outputWarehouse/delete",method:"POST",data:e})}function c(e){return Object(r["a"])({url:u+"/outputWarehouse/delete-list",method:"POST",data:e})}},bb2f:function(e,t,o){var r=o("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c4c1:function(e,t,o){},d86b:function(e,t,o){var r=o("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},d9cc:function(e,t,o){"use strict";var r=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{size:"30%",title:e.ifCreate?"新增销售单":e.output?"发货":"编辑销售单",visible:e.drawer,direction:e.direction,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,wrapperClosable:!1,"append-to-body":!0,width:"1200px"},on:{"update:visible":function(t){e.drawer=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"门店",prop:"shopCode"}},[t("el-select",{ref:"selection",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"",clearable:"",disabled:e.output},model:{value:e.ruleForm.shopCode,callback:function(t){e.$set(e.ruleForm,"shopCode",t)},expression:"ruleForm.shopCode"}},e._l(e.shopOptions,(function(o){return t("el-option",{key:o.shopKey,attrs:{label:o.shopName,value:o.shopCode,disabled:6!=o.shopStatus&&1!=o.shopStatus},nativeOn:{click:function(t){return e.setShopName(o)}}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"商品",prop:"goodsCode"}},[t("el-select",{ref:"goodsSelect",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"商品",clearable:"",disabled:e.output},model:{value:e.ruleForm.goodsCode,callback:function(t){e.$set(e.ruleForm,"goodsCode",t)},expression:"ruleForm.goodsCode"}},e._l(e.goodsOptions,(function(o){return t("el-option",{key:o.goodsCode,attrs:{label:o.goodsName,value:o.goodsCode},nativeOn:{click:function(t){return e.setGoodsName(o)}}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"客户",prop:"customerCode"}},[t("el-select",{ref:"customerSelect",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"客户",clearable:"",disabled:e.output},model:{value:e.ruleForm.customerCode,callback:function(t){e.$set(e.ruleForm,"customerCode",t)},expression:"ruleForm.customerCode"}},e._l(e.customerOptions,(function(o){return t("el-option",{key:o.customerKey,attrs:{label:o.customerName,value:o.customerCode},nativeOn:{click:function(t){return e.setCustomerName.apply(null,arguments)}}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"出库价格",prop:"outputPrice"}},[t("el-input",{attrs:{disabled:e.output,clearable:"",placeholder:"出库价格",min:0,type:"Number"},model:{value:e.ruleForm.outputPrice,callback:function(t){e.$set(e.ruleForm,"outputPrice",t)},expression:"ruleForm.outputPrice"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"计划出库数",prop:"outputPlan"}},[t("el-input",{attrs:{disabled:e.output,clearable:"",placeholder:"计划出库数",min:0,type:"Number"},on:{blur:e.checkNum},model:{value:e.ruleForm.outputPlan,callback:function(t){e.$set(e.ruleForm,"outputPlan",t)},expression:"ruleForm.outputPlan"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"出库类型",prop:"type"}},[t("el-select",{attrs:{size:"small",placeholder:"出库类型",clearable:"",disabled:e.output},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-option",{attrs:{label:"客户订购出库",value:1}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"门店操作员",prop:"shopPeopleCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"门店操作员",clearable:"",disabled:e.output},model:{value:e.ruleForm.shopPeopleCode,callback:function(t){e.$set(e.ruleForm,"shopPeopleCode",t)},expression:"ruleForm.shopPeopleCode"}},e._l(e.userOptions,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userCode}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("span",{staticStyle:{"margin-left":"8%"}},[e._v("起止日期")]),t("el-date-picker",{staticStyle:{width:"310px","margin-left":"10px"},attrs:{type:"daterange",align:"right",size:"large","unlink-panels":"","range-separator":"至","start-placeholder":"预计日期","end-placeholder":"最迟日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss",disabled:e.output},on:{change:e.setTime},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)],1),e.output?t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"仓库",prop:"inventoryCode"}},[t("el-select",{ref:"inventorySelect",staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"仓库",clearable:""},model:{value:e.ruleForm.inventoryCode,callback:function(t){e.$set(e.ruleForm,"inventoryCode",t)},expression:"ruleForm.inventoryCode"}},e._l(e.inventoryOptions,(function(o){return t("el-option",{key:o.inventoryKey,attrs:{label:o.inventoryName,value:o.inventoryCode,disabled:1!=o.status},nativeOn:{click:function(t){return e.setPosition.apply(null,arguments)}}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"库位",prop:"positionCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"库位",clearable:""},model:{value:e.ruleForm.positionCode,callback:function(t){e.$set(e.ruleForm,"positionCode",t)},expression:"ruleForm.positionCode"}},e._l(e.positionOptions,(function(e){return t("el-option",{key:e.positionCode,attrs:{label:e.positionCode,value:e.positionCode,clearable:"",placeholder:"库位"}})})),1)],1)],1)],1):e._e(),e.output?t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"仓库操作员",prop:"inventoryPeopleCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"仓库操作员",clearable:""},model:{value:e.ruleForm.inventoryPeopleCode,callback:function(t){e.$set(e.ruleForm,"inventoryPeopleCode",t)},expression:"ruleForm.inventoryPeopleCode"}},e._l(e.userOptions1,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userCode}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"实际数",prop:"outputActual"}},[t("el-input",{attrs:{clearable:"",placeholder:"实际数",min:0,type:"Number"},on:{blur:e.checkNum1},model:{value:e.ruleForm.outputActual,callback:function(t){e.$set(e.ruleForm,"outputActual",t)},expression:"ruleForm.outputActual"}})],1)],1)],1):e._e(),e.output?t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"车辆",prop:"vehicleCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",placeholder:"车辆",clearable:""},model:{value:e.ruleForm.vehicleCode,callback:function(t){e.$set(e.ruleForm,"vehicleCode",t)},expression:"ruleForm.vehicleCode"}},e._l(e.vehicleOptions,(function(e){return t("el-option",{key:e.vehicleKey,attrs:{label:e.vehicleCode,value:e.vehicleCode}})})),1)],1)],1)],1):e._e()],1),t("div",{staticClass:"dialog_footer"},[0==e.ifCreate?t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("ruleForm")}}},[e._v("保存")]):t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.create("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){return e.close()}}},[e._v("关闭")])],1)],1)},u=[],a=o("ade3"),s=(o("4ec9"),o("d3b7"),o("3ca3"),o("ddb0"),o("4de4"),o("159b"),o("b7be")),n=o("7e1e"),i=o("64dc"),l=o("4ec3"),c=o("c1df"),d=o.n(c),p={name:"guestEdit",data:function(){var e;return{direction:"btt",ifCreate:!1,ruleForm:{outputWarehouseKey:"",shopCode:"",shopName:"",goodsCode:"",goodsName:"",customerCode:"",customerName:"",outputPlan:"",outputPrice:"",outputActual:"",inventoryCode:"",positionCode:"",createTime:"",deadlineTime:"",vehicleCode:"",status:"",type:1,shopPeopleCode:"",inventoryPeopleCode:"",isDeleted:"",returnReason:"",returnNum:"",outputShopCode:"",outputShopName:""},availableNum:"",shopOptions:[],goodsOptions:[],positionOptions:[],customerOptions:[],vehicleOptions:[],inventoryOptions:[],userOptions:[],userOptions1:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,o=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",[o,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,o=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",[o,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,o=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",[o,t])}}],disabledDate:function(e){return new Date(e).getTime()<(new Date).getTime()-864e5||new Date(e).getTime()>(new Date).getTime()+15552e6}},value2:"",rules:(e={shopCode:[{required:!0,message:"请选择",trigger:"blur"}],goodsCode:[{required:!0,message:"请选择商品",trigger:"blur"}],customerCode:[{required:!0,message:"请选择客户",trigger:"blur"}],inventoryCode:[{required:!0,message:"请选择仓库",trigger:"blur"}],positionCode:[{required:!0,message:"请选择货位",trigger:"blur"}],outputPlan:[{required:!0,message:"请设置计划出库数",trigger:"blur"}],outputPrice:[{required:!0,message:"请设置出库价格",trigger:"blur"}],outputActual:[{required:!0,message:"请设置实际出库数",trigger:"blur"}],type:[{required:!0,message:"请设置出库类型",trigger:"blur"}]},Object(a["a"])(e,"type",[{required:!0,message:"请设置出库类型",trigger:"blur"}]),Object(a["a"])(e,"shopPeopleCode",[{required:!0,message:"请设置门店操作员",trigger:"blur"}]),Object(a["a"])(e,"inventoryPeopleCode",[{required:!0,message:"请设置仓库操作员",trigger:"blur"}]),e)}},props:{drawer:{default:!0},rowData:{},output:{default:!0}},watch:{},created:function(){this.getshoplist(),this.getCustomerList(),this.getUserList(),this.getvehicleList(),this.rowData.outputWarehouseKey?(this.ruleForm.outputWarehouseKey=this.rowData.outputWarehouseKey,this.ruleForm.shopCode=this.rowData.shopCode,this.ruleForm.shopName=this.rowData.shopName,this.ruleForm.goodsCode=this.rowData.goodsCode,this.ruleForm.goodsName=this.rowData.goodsName,this.ruleForm.customerCode=this.rowData.customerCode,this.ruleForm.customerName=this.rowData.customerName,this.ruleForm.outputPlan=this.rowData.outputPlan,this.ruleForm.outputPrice=this.rowData.outputPrice,this.ruleForm.outputActual=this.rowData.outputActual,this.ruleForm.inventoryCode=this.rowData.inventoryCode,this.ruleForm.positionCode=this.rowData.positionCode,this.ruleForm.createTime=this.rowData.createTime,this.ruleForm.deadlineTime=this.rowData.deadlineTime,this.ruleForm.vehicleCode=this.rowData.vehicleCode,this.ruleForm.isDeleted=this.rowData.isDeleted,this.ruleForm.status=this.rowData.status,this.ruleForm.shopPeopleCode=this.rowData.shopPeopleCode,this.ruleForm.inventoryPeopleCode=this.rowData.inventoryPeopleCode,this.ruleForm.returnReason=this.rowData.returnReason,this.ruleForm.returnNum=this.rowData.returnNum,this.ruleForm.outputShopCode=this.rowData.outputShopCode,this.ruleForm.outputShopName=this.rowData.outputShopName,this.value2=[this.rowData.createTime,this.rowData.deadlineTime]):this.ifCreate=!0,this.getShopInventoryList()},methods:{getvehicleList:function(){var e=this;Object(n["xb"])().then((function(t){200==t.data.code?e.vehicleOptions=t.data.data:e.$message.error("获取失败!")}))},getUserList:function(){var e=this;Object(l["a"])({userType:2}).then((function(t){e.userOptions=t.data.data,e.$forceUpdate()})).catch((function(e){console.log(e)})),Object(l["a"])({userType:1}).then((function(t){e.userOptions1=t.data.data,e.$forceUpdate()})).catch((function(e){console.log(e)}))},unique:function(e){var t=new Map;return e.filter((function(e){return!t.has(e.shopCode)&&t.set(e.shopCode,1)}))},getshoplist:function(){var e=this;Object(i["r"])().then((function(t){200==t.data.code?e.shopOptions=e.unique(t.data.data):e.$message.error("获取失败!")}))},getgoodslist:function(e){var t=this;Object(i["o"])({shopCode:e.shopCode,shopName:e.shopName}).then((function(e){200==e.data.code?t.goodsOptions=e.data.data:t.$message.error("获取失败!")}))},getCustomerList:function(){var e=this;Object(n["e"])().then((function(t){200==t.data.code?e.customerOptions=t.data.data:e.$message.error("获取失败!")}))},getShopInventoryList:function(){var e=this;Object(i["m"])({shopCode:this.ruleForm.shopCode}).then((function(t){200==t.data.code?(e.inventoryOptions=t.data.data,e.getpositionList()):e.$message.error("获取失败!")}))},setShopName:function(e){this.goodsOptions=[],this.getShopInventoryList(),this.ruleForm.shopName=this.$refs.selection.selectedLabel,this.getgoodslist(e)},setCustomerName:function(){var e=this;this.ruleForm.customerName=this.$refs.customerSelect.selectedLabel,this.shopOptions.forEach((function(t){t.goodsCode==t.goodsCode&&t.shopCode==e.ruleForm.shopCode&&(e.availableNum=t.availableNum)}))},setGoodsName:function(e){console.log(this.$refs.goodsSelect.selectedLabel),this.ruleForm.goodsName=this.$refs.goodsSelect.selectedLabel,this.ruleForm.outputPrice=e.priceWholesaler},checkNum:function(){this.ruleForm.outputPlan>this.availableNum&&(this.$message.error("超过最大可用数：".concat(this.availableNum)),this.ruleForm.outputPlan="")},checkNum1:function(){var e=this;this.shopOptions.forEach((function(t){t.goodsCode==t.goodsCode&&t.shopCode==e.ruleForm.shopCode&&(e.accountNum=t.accountNum)})),this.ruleForm.outputActual>this.accountNum&&(this.$message.error("超过最大可用数：".concat(this.accountNum)),this.ruleForm.checkNum1="")},setPosition:function(){var e=this;this.ruleForm.inventoryName=this.$refs.inventorySelect.selectedLabel;var t=this.inventoryOptions.filter((function(t){return t.inventoryCode==e.ruleForm.inventoryCode}));this.getpositionList(t[0].inventoryKey)},getpositionList:function(){var e=this;this.inventoryOptions.forEach((function(t){t.inventoryCode==e.ruleForm.inventoryCode&&Object(n["gb"])({inventoryKey:t.inventoryKey}).then((function(t){200==t.data.code?e.positionOptions=t.data.data:e.$message.error("获取失败!")}))}))},setTime:function(){this.ruleForm.createTime=this.value2[0],this.ruleForm.deadlineTime=this.value2[1]},close:function(){this.$parent.drawer=!1,this.$emit("close")},save:function(e){var t=this;this.ruleForm.createTime=this.value2[0],this.ruleForm.deadlineTime=this.value2[1],1==this.output?this.ruleForm.status=5:this.ruleForm.status=4,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var o={shopCode:t.ruleForm.shopCode,shopName:t.ruleForm.shopName,goodsCode:t.ruleForm.goodsCode,goodsName:t.ruleForm.goodsName,customerCode:t.ruleForm.customerCode,customerName:t.ruleForm.customerName,outputPlan:t.ruleForm.outputPlan,outputPrice:t.ruleForm.outputPrice,outputActual:t.ruleForm.outputActual,inventoryCode:t.ruleForm.inventoryCode,positionCode:t.ruleForm.positionCode,createTime:t.ruleForm.createTime,deadlineTime:t.ruleForm.deadlineTime,isDeleted:t.ruleForm.isDeleted,vehicleCode:t.ruleForm.vehicleCode,status:t.ruleForm.status,type:t.ruleForm.type,shopPeopleCode:t.ruleForm.shopPeopleCode,inventoryPeopleCode:t.ruleForm.inventoryPeopleCode,returnReason:t.ruleForm.returnReason,returnNum:t.ruleForm.returnNum,outputShopCode:t.ruleForm.outputShopCode,outputShopName:t.ruleForm.outputShopName,outputWarehouseKey:t.ruleForm.outputWarehouseKey};Object(s["f"])(o).then((function(e){if(200==e.data.code)if(5==t.ruleForm.status){var o={inputOutputKey:e.data.data.outputWarehouseKey,shopkeeperWarehouseKey:"",type:1,transType:4,quantity:t.ruleForm.outputActual,startNum:"",finalNum:"",atTime:d()().format("YYYY-MM-DD HH:mm:ss"),status:t.rowData.status,detailWarehouseKey:"",shopCode:t.ruleForm.shopCode,goodsCode:t.ruleForm.goodsCode};Object(i["h"])(o).then((function(e){t.$message.success("编辑成功!"),t.$parent.success(),t.$forceUpdate()}))}else t.$message.success("编辑成功!"),t.$parent.success(),t.$forceUpdate();else t.$message.error("编辑失败!")}))}))},create:function(e){var t=this;this.ruleForm.createTime=this.value2[0],this.ruleForm.deadlineTime=this.value2[1],1==this.output?this.ruleForm.status=5:this.ruleForm.status=4,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var o={shopCode:t.ruleForm.shopCode,shopName:t.ruleForm.shopName,goodsCode:t.ruleForm.goodsCode,goodsName:t.ruleForm.goodsName,customerCode:t.ruleForm.customerCode,customerName:t.ruleForm.customerName,outputPlan:t.ruleForm.outputPlan,outputPrice:t.ruleForm.outputPrice,outputActual:t.ruleForm.outputActual,inventoryCode:t.ruleForm.inventoryCode,positionCode:t.ruleForm.positionCode,createTime:t.ruleForm.createTime,deadlineTime:t.ruleForm.deadlineTime,vehicleCode:t.ruleForm.vehicleCode,status:t.ruleForm.status,isDeleted:t.ruleForm.isDeleted,type:t.ruleForm.type,shopPeopleCode:t.ruleForm.shopPeopleCode,inventoryPeopleCode:t.ruleForm.inventoryPeopleCode,returnNum:t.ruleForm.returnNum,outputShopCode:t.ruleForm.outputShopCode,outputShopName:t.ruleForm.outputShopName,returnReason:t.ruleForm.returnReason};Object(s["a"])(o).then((function(e){200==e.data.code?(t.$message.success("新增成功!"),t.$parent.success(),t.$forceUpdate()):t.$message.error("新增失败!")}))}))}}},m=p,h=(o("3d08"),o("2877")),f=Object(h["a"])(m,r,u,!1,null,null,null);t["a"]=f.exports},f183:function(e,t,o){var r=o("23e7"),u=o("e330"),a=o("d012"),s=o("861d"),n=o("1a2d"),i=o("9bf2").f,l=o("241c"),c=o("057f"),d=o("4fad"),p=o("90e3"),m=o("bb2f"),h=!1,f=p("meta"),v=0,b=function(e){i(e,f,{value:{objectID:"O"+v++,weakData:{}}})},C=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,f)){if(!d(e))return"F";if(!t)return"E";b(e)}return e[f].objectID},F=function(e,t){if(!n(e,f)){if(!d(e))return!0;if(!t)return!1;b(e)}return e[f].weakData},y=function(e){return m&&h&&d(e)&&!n(e,f)&&b(e),e},g=function(){O.enable=function(){},h=!0;var e=l.f,t=u([].splice),o={};o[f]=1,e(o).length&&(l.f=function(o){for(var r=e(o),u=0,a=r.length;u<a;u++)if(r[u]===f){t(r,u,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},O=e.exports={enable:g,fastKey:C,getWeakData:F,onFreeze:y};a[f]=!0}}]);
//# sourceMappingURL=chunk-13c9049a.5c25b5e2.js.map