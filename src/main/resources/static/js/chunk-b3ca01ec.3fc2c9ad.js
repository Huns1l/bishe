(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3ca01ec"],{"00b4":function(e,t,r){"use strict";r("ac1f");var a=r("23e7"),n=r("c65b"),s=r("1626"),o=r("825a"),u=r("577e"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=/./.test;a({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=o(this),r=u(e),a=t.exec;if(!s(a))return n(c,t,r);var i=n(a,t,r);return null!==i&&(o(i),!0)}})},"0d26":function(e,t,r){var a=r("e330"),n=Error,s=a("".replace),o=function(e){return String(n(e).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,i=u.test(o);e.exports=function(e,t){if(i&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=s(e,u,"");return e}},"107c":function(e,t,r){var a=r("d039"),n=r("da84"),s=n.RegExp;e.exports=a((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"2e9d":function(e,t,r){e.exports=r.p+"img/login0.31898690.png"},7156:function(e,t,r){var a=r("1626"),n=r("861d"),s=r("d2bb");e.exports=function(e,t,r){var o,u;return s&&a(o=t.constructor)&&o!==r&&n(u=o.prototype)&&u!==r.prototype&&s(e,u),e}},"751a":function(e,t,r){"use strict";r("b775")},"7ded":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));r("751a");var a=r("4328"),n=r.n(a),s=r("b775"),o="/api";function u(e){return Object(s["a"])({url:o+"/login/login",method:"post",data:n.a.parse(e)})}function i(e){return Object(s["a"])({url:o+"/login/register",method:"post",data:n.a.parse(e)})}function c(e){return Object(s["a"])({url:o+"/login/getUserInfo",method:"post",data:n.a.parse(e)})}function l(e){return Object(s["a"])({url:o+"/menu/list",method:"get",params:n.a.parse(e)})}},9263:function(e,t,r){"use strict";var a=r("c65b"),n=r("e330"),s=r("577e"),o=r("ad6d"),u=r("9f7f"),i=r("5692"),c=r("7c73"),l=r("69f3").get,d=r("fce3"),f=r("107c"),m=i("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,h=n("".charAt),v=n("".indexOf),b=n("".replace),x=n("".slice),y=function(){var e=/a/,t=/b*/g;return a(p,e,"a"),a(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=u.BROKEN_CARET,E=void 0!==/()??/.exec("")[1],I=y||E||k||d||f;I&&(g=function(e){var t,r,n,u,i,d,f,I=this,P=l(I),C=s(e),O=P.raw;if(O)return O.lastIndex=I.lastIndex,t=a(g,O,C),I.lastIndex=O.lastIndex,t;var $=P.groups,_=k&&I.sticky,S=a(o,I),w=I.source,R=0,W=C;if(_&&(S=b(S,"y",""),-1===v(S,"g")&&(S+="g"),W=x(C,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==h(C,I.lastIndex-1))&&(w="(?: "+w+")",W=" "+W,R++),r=new RegExp("^(?:"+w+")",S)),E&&(r=new RegExp("^"+w+"$(?!\\s)",S)),y&&(n=I.lastIndex),u=a(p,_?r:I,W),_?u?(u.input=x(u.input,R),u[0]=x(u[0],R),u.index=I.lastIndex,I.lastIndex+=u[0].length):I.lastIndex=0:y&&u&&(I.lastIndex=I.global?u.index+u[0].length:n),E&&u&&u.length>1&&a(m,u[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(u[i]=void 0)})),u&&$)for(u.groups=d=c(null),i=0;i<$.length;i++)f=$[i],d[f[0]]=u[f[1]];return u}),e.exports=g},"9d64":function(e,t,r){e.exports=r.p+"img/logo.a6a10001.png"},"9ed6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"login-header"},[t("div",{staticClass:"logo"},[t("el-image",{attrs:{src:e.logoimg}}),t("div",[e._v("商品库存管理系统")])],1)]),t("div",{staticClass:"login-main clearfix"},[t("div",{staticClass:"login-fl fl"},[t("img",{attrs:{src:e.loginimg,alt:""}})]),t("div",{staticClass:"login-fr fl"},[t("ul",{staticClass:"login-tab"},e._l(e.tablist,(function(r,a){return t("li",{key:a,class:e.tabval==r?"active":"",on:{click:function(t){return e.ontab(r)}}},[t("span",[e._v(e._s(r))])])})),0),t("el-form",{ref:"ruleForm",attrs:{model:e.formdata,rules:e.rules}},["注册"!==e.tabval?t("el-form-item",{attrs:{prop:"userPhone"}},[t("el-input",{attrs:{placeholder:"用户手机",id:"userPhone"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.userPhone,callback:function(t){e.$set(e.formdata,"userPhone",t)},expression:"formdata.userPhone"}})],1):e._e(),"注册"==e.tabval?[t("el-form-item",{attrs:{prop:"userCode"}},[t("el-input",{attrs:{type:"text",placeholder:"工号",maxlength:"20"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.userCode,callback:function(t){e.$set(e.formdata,"userCode",t)},expression:"formdata.userCode"}})],1),t("el-form-item",{attrs:{prop:"userName"}},[t("el-input",{attrs:{type:"text",placeholder:"姓名",maxlength:"20"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.userName,callback:function(t){e.$set(e.formdata,"userName",t)},expression:"formdata.userName"}})],1),t("el-form-item",{attrs:{prop:"userPhone"}},[t("el-input",{attrs:{type:"text",placeholder:"手机号码",id:"userPhone",maxlength:"20"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.userPhone,callback:function(t){e.$set(e.formdata,"userPhone",t)},expression:"formdata.userPhone"}})],1),t("el-form-item",{attrs:{prop:"userEmail"}},[t("el-input",{attrs:{type:"text",placeholder:"邮箱",maxlength:"20"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.userEmail,callback:function(t){e.$set(e.formdata,"userEmail",t)},expression:"formdata.userEmail"}})],1),t("el-form-item",{attrs:{prop:"userSex"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"middle",clearable:"",placeholder:"性别"},model:{value:e.formdata.userSex,callback:function(t){e.$set(e.formdata,"userSex",t)},expression:"formdata.userSex"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}})],1)],1)]:e._e(),t("el-form-item",{attrs:{prop:"passWord"}},[t("el-input",{attrs:{placeholder:"密码",type:"passWord","show-password":"",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.passWord,callback:function(t){e.$set(e.formdata,"passWord",t)},expression:"formdata.passWord"}})],1),"注册"==e.tabval?[t("el-form-item",{attrs:{prop:"checkPass"}},[t("el-input",{ref:"surepassWord",attrs:{placeholder:"确认密码",type:"passWord",maxlength:"20"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}},model:{value:e.formdata.checkPass,callback:function(t){e.$set(e.formdata,"checkPass",t)},expression:"formdata.checkPass"}})],1)]:e._e(),"注册"==e.tabval?t("el-form-item",{staticClass:"login-text clearfix"},[t("el-link",{staticClass:"form-forget fr",attrs:{underline:!1},on:{click:function(t){return e.toEnable()}}},[e._v("已有账号，请联系超级管理员配置权限后登录")])],1):e._e(),t("el-form-item",[t("el-button",{on:{click:function(t){return e.submitform("ruleForm",e.tabval)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitform("ruleForm",e.tabval)}}},[e._v(e._s(e.tabval))])],1)],2)],1)])])},n=[],s=(r("d9e2"),r("ac1f"),r("00b4"),r("e9c4"),r("14d9"),r("2e9d")),o=r.n(s),u=r("9d64"),i=r.n(u),c=r("7ded"),l={name:"indexPage",data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.formdata.passWord?a(new Error("两次输入密码不一致!")):a()};return{logoimg:i.a,loginimg:o.a,formdata:{userName:"",userId:"",passWord:"",userPhone:"",userEmail:"",checkPass:"",userSex:"",userCode:""},rules:{userPhone:[{required:!0,message:"请输入用户手机",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}]},tablist:["登录","注册"],tabval:"登录",code:""}},created:function(){},methods:{checkPhone:function(){var e=document.getElementById("userPhone").value;return/\d{11}$/.test(e)?!!/^1[3456789]\d{9}$/.test(e)||(this.$message({type:"error",message:"此号码无效，请重填!"}),!1):(this.$message({type:"error",message:"手机号码有误，请重填!"}),!1)},submitform:function(e,t){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.checkPhone()&&("登录"===t?r.login():r.register())}))},login:function(){var e=this,t={userPhone:this.formdata.userPhone,passWord:this.formdata.passWord};Object(c["c"])(t).then((function(t){200==t.data.code?-1==t.data.data.user.userType?e.$message({type:"error",message:"暂未配置权限，请联系超级管理员处理!"}):(e.$message({type:"success",message:"登录成功!"}),console.log(t.data.data),localStorage.setItem("userInfo",JSON.stringify(t.data.data.user)),localStorage.setItem("token",t.data.data.token),localStorage.setItem("userId",t.data.data.user.userId),e.$store.dispatch("saveUserId",t.data.data.user.userId),e.$store.dispatch("saveUserPhone",t.data.data.user.userPhone),e.$store.dispatch("saveUserCode",t.data.data.user.userCode),e.$store.dispatch("saveUserName",t.data.data.user.userName),e.$store.dispatch("saveUserType",t.data.data.user.userType),e.$store.dispatch("saveUserbelong",t.data.data.user.userBelong),sessionStorage.setItem("selOneMenu",""),e.$router.push({name:"welcome"})):e.$message({type:"error",message:t.data.msg})})).catch((function(e){console.log(e)}))},register:function(){var e=this,t={userId:this.formdata.userId,userName:this.formdata.userName,userEmail:this.formdata.userEmail,passWord:this.formdata.passWord,userPhone:this.formdata.userPhone,userSex:this.formdata.userSex,userCode:this.formdata.userCode,userType:-1,userBelong:-1};Object(c["d"])(t).then((function(t){200==t.data.code?(e.$message({type:"success",message:"注册成功!"}),console.log(t.data.data),e.tabval="登录",e.$refs.ruleForm.resetFields()):e.$message({type:"error",message:t.data.msg})})).catch((function(e){console.log(e)}))},ontab:function(e){this.tabval=e,this.formdata={userName:"",userId:"",passWord:"",userPhone:"",userEmail:"",checkPass:"",userSex:"",userCode:""}},toEnable:function(){}}},d=l,f=(r("f6ac"),r("2877")),m=Object(f["a"])(d,a,n,!1,null,"7ae588a4",null);t["default"]=m.exports},"9f7f":function(e,t,r){var a=r("d039"),n=r("da84"),s=n.RegExp,o=a((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),u=o||a((function(){return!s("a","y").sticky})),i=o||a((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:i,MISSED_STICKY:u,UNSUPPORTED_Y:o}},ab36:function(e,t,r){var a=r("861d"),n=r("9112");e.exports=function(e,t){a(t)&&"cause"in t&&n(e,"cause",t.cause)}},ac1f:function(e,t,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},aeb0:function(e,t,r){var a=r("9bf2").f;e.exports=function(e,t,r){r in e||a(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},b980:function(e,t,r){var a=r("d039"),n=r("5c6c");e.exports=!a((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},d9e2:function(e,t,r){var a=r("23e7"),n=r("da84"),s=r("2ba4"),o=r("e5cb"),u="WebAssembly",i=n[u],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=o(e,t,c),a({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(e,t){if(i&&i[e]){var r={};r[e]=o(u+"."+e,t,c),a({target:u,stat:!0,constructor:!0,arity:1,forced:c},r)}};l("Error",(function(e){return function(t){return s(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),l("URIError",(function(e){return function(t){return s(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},e391:function(e,t,r){var a=r("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:a(e)}},e5cb:function(e,t,r){"use strict";var a=r("d066"),n=r("1a2d"),s=r("9112"),o=r("3a9b"),u=r("d2bb"),i=r("e893"),c=r("aeb0"),l=r("7156"),d=r("e391"),f=r("ab36"),m=r("0d26"),p=r("b980"),g=r("83ab"),h=r("c430");e.exports=function(e,t,r,v){var b="stackTraceLimit",x=v?2:1,y=e.split("."),k=y[y.length-1],E=a.apply(null,y);if(E){var I=E.prototype;if(!h&&n(I,"cause")&&delete I.cause,!r)return E;var P=a("Error"),C=t((function(e,t){var r=d(v?t:e,void 0),a=v?new E(e):new E;return void 0!==r&&s(a,"message",r),p&&s(a,"stack",m(a.stack,2)),this&&o(I,this)&&l(a,this,C),arguments.length>x&&f(a,arguments[x]),a}));if(C.prototype=I,"Error"!==k?u?u(C,P):i(C,P,{name:!0}):g&&b in E&&(c(C,E,b),c(C,E,"prepareStackTrace")),i(C,E),!h)try{I.name!==k&&s(I,"name",k),I.constructor=C}catch(O){}return C}}},ee86:function(e,t,r){},f6ac:function(e,t,r){"use strict";r("ee86")},fce3:function(e,t,r){var a=r("d039"),n=r("da84"),s=n.RegExp;e.exports=a((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-b3ca01ec.3fc2c9ad.js.map