{"version":3,"sources":["webpack:///./src/components/dataIntegrate/transferIntegrate/transferIntegrateList.vue","webpack:///src/components/dataIntegrate/transferIntegrate/transferIntegrateList.vue","webpack:///./src/components/dataIntegrate/transferIntegrate/transferIntegrateList.vue?82c8","webpack:///./src/components/dataIntegrate/transferIntegrate/transferIntegrateList.vue?38ae","webpack:///./src/components/dataIntegrate/transferIntegrate/transferIntegrateList.vue?06cb","webpack:///./src/api/dataIntegrate.js"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","searchConfig","hidden","on","search","staticClass","getTableData","tableData","multiCheck","tableColumn","query","total","loadings","table","$event","staticRenderFns","name","data","pageSize","pageNo","drawer","rowData","multipleSelection","goodsOptions","InShopOptions","OutShopOptions","computed","prop","label","placeholder","field","value","type","options","props","components","TableList","reloadAndsearch","created","methods","getshoplist","shoplist","res","getgoodslist","goodslist","page","size","goodsCode","InShopCode","OutShopCode","transferIntegrateListPage","console","finally","deleteRow","confirmButtonText","cancelButtonText","shopkeeperWarehouseDelete","belongKey","inventoryKey","message","reload","component","baseUrl","countCheckGetById","request","url","method","params","countCheckListPage","countCheckList","countCheckAdd","countCheckUpdate","purchaseIntegrateListPage","salesIntegrateListPage"],"mappings":"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","file":"js/chunk-24e6ec95.1eb366af.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"background\":\"#fff\",\"padding\":\"10px\"}},[_c('reloadAndsearch',{ref:\"search\",attrs:{\"config\":_vm.searchConfig,\"hidden\":_vm.hidden,\"hidden1\":_vm.hidden},on:{\"search\":_vm.search}}),_c('div',{staticClass:\"list-model\"},[_c('TableList',{attrs:{\"pageMethod\":_vm.getTableData,\"searchMethod\":_vm.getTableData,\"table-data\":_vm.tableData,\"multiCheck\":_vm.multiCheck,\"tableColumn\":_vm.tableColumn,\"query\":_vm.query,\"total\":_vm.total,\"loading\":_vm.loadings.table},on:{\"update:query\":function($event){_vm.query=$event}}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"background:#fff;padding:10px;\">\r\n    <reloadAndsearch ref=\"search\" :config=\"searchConfig\" @search=\"search\" :hidden=\"hidden\" :hidden1=\"hidden\" />\r\n    <div class=\"list-model\">\r\n      <TableList :pageMethod=\"getTableData\" :searchMethod=\"getTableData\" :table-data=\"tableData\" :multiCheck=\"multiCheck\"\r\n        :tableColumn=\"tableColumn\" :query.sync=\"query\" :total=\"total\" :loading=\"loadings.table\">\r\n\r\n        <!-- <template v-slot:column-todo=\"props\">\r\n          <el-button type=\"text\" style=\"visibility:hidden\">空</el-button>\r\n          <el-button v-if=\"props.row.checkStatus != 1\" @click=\"editRow(props.row)\" type=\"text\" icon=\"el-icon-s-check\">审批</el-button>\r\n          <el-button class=\"prohibitclick\" @click=\"deleteRow(props.row)\" type=\"text\" size=\"small\"\r\n            icon=\"el-icon-document\">删除</el-button>\r\n        </template> -->\r\n      </TableList>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableList from \"@/components/public/tableList\";\r\nimport reloadAndsearch from \"@/components/public/reloadAndsearch/reloadAndsearch.vue\";\r\nimport { transferIntegrateListPage } from '@/api/dataIntegrate'\r\nimport { goodslist, shoplist } from '@/api/data'\r\n\r\nexport default {\r\n  name: \"slist\",\r\n  data() {\r\n    return {\r\n      pageSize: 10,\r\n      pageNo: 1,\r\n      total: null,\r\n      drawer: false,\r\n      multiCheck: false,\r\n      hidden: true,\r\n      rowData: {},\r\n      tableData: [],\r\n      multipleSelection: [],\r\n      loadings: {\r\n        table: true,\r\n      },\r\n      query: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n      },\r\n      goodsOptions: [],\r\n      InShopOptions: [],\r\n      OutShopOptions: [],\r\n    };\r\n  },\r\n  computed: {\r\n    tableColumn() {\r\n      return [\r\n        { prop: \"inShopCode\", label: \"调入门店编码\" },\r\n        { prop: \"inShopName\", label: \"调入门店名称\" },\r\n        { prop: \"goodsCode\", label: \"商品编码\" },\r\n        { prop: \"goodsName\", label: \"商品名称\" },\r\n        { prop: \"outShopCode\", label: \"调出门店编码\" },\r\n        { prop: \"outShopName\", label: \"调出门店名称\" },\r\n        { prop: \"transferNum\", label: \"调货单数\" },\r\n        { prop: \"transferSum\", label: \"调货商品数\" },\r\n        // { slots: { name: \"column-todo\" }, label: \"操作\", fixed: \"right\", width: \"120px\" },\r\n      ];\r\n    },\r\n    searchConfig() {\r\n      return [\r\n        {\r\n          label: '请选择',\r\n          placeholder: '请选择调货入库门店',\r\n          field: 'InShopCode',\r\n          value: '',\r\n          type: \"select\",\r\n          options: this.InShopOptions\r\n        },\r\n        {\r\n          label: '请选择',\r\n          placeholder: '请选择商品',\r\n          field: 'goodsCode',\r\n          value: '',\r\n          type: \"select\",\r\n          options: this.goodsOptions\r\n        },\r\n        {\r\n          label: '请选择',\r\n          placeholder: '请选择调货出库门店',\r\n          field: 'OutShopCode',\r\n          value: '',\r\n          type: \"select\",\r\n          options: this.OutShopOptions\r\n        },\r\n      ];\r\n    }\r\n  },\r\n  props: {\r\n  },\r\n  components: {\r\n    TableList,\r\n    reloadAndsearch\r\n  },\r\n  created() {\r\n    this.getgoodslist()\r\n    this.getshoplist()\r\n  },\r\n  methods: {\r\n    getshoplist() {\r\n      shoplist().then(res => {\r\n        this.InShopOptions = []\r\n        this.OutShopOptions = []\r\n        if (res.data.code == 200) {\r\n          res.data.data.forEach(item => {\r\n            this.InShopOptions.push({ label: item.shopName, value: item.shopCode })\r\n            this.OutShopOptions.push({ label: item.shopName, value: item.shopCode })\r\n          });\r\n        } else {\r\n          this.$message.error(\"获取失败!\");\r\n        }\r\n      });\r\n    },\r\n    getgoodslist() {\r\n      goodslist().then(res => {\r\n        this.goodsOptions = []\r\n        if (res.data.code == 200) {\r\n          res.data.data.forEach(item => {\r\n            this.goodsOptions.push({ label: item.goodsName, value: item.goodsCode })\r\n          });\r\n        } else {\r\n          this.$message.error(\"获取失败!\");\r\n        }\r\n      });\r\n    },\r\n    getTableData(pageNo = 1, pageSize) {\r\n      this.query.pageNo = pageNo;\r\n      if (pageSize) {\r\n        this.query.pageSize = pageSize;\r\n      }\r\n      this.loadings.table = true;\r\n\r\n      let params = {\r\n        // ...this.query,\r\n        page: this.query.pageNo,\r\n        size: this.query.pageSize,\r\n        goodsCode: \"\",\r\n        InShopCode: \"\",\r\n        OutShopCode: \"\"\r\n      };\r\n      transferIntegrateListPage(params).then((res) => {\r\n        if (res.data.code === 200) {\r\n          this.total = res.data.data.total;\r\n          this.tableData = res.data.data.records;\r\n          // console.log(this.total, this.tableData);\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      })\r\n        .finally(() => {\r\n          this.loadings.table = false;\r\n        });\r\n    },\r\n    search(pageNo = 1, pageSize) {\r\n      this.query.pageNo = pageNo;\r\n      if (pageSize) {\r\n        this.query.pageSize = pageSize;\r\n      }\r\n      const searchData = this.$refs.search.search\r\n      transferIntegrateListPage({\r\n        goodsCode: searchData.goodsCode,\r\n        InShopCode: searchData.InShopCode,\r\n        OutShopCode: searchData.OutShopCode,\r\n        page: this.query.pageNo,\r\n        size: this.query.pageSize,\r\n      }).then((res) => {\r\n        if (res.data.code === 200) {\r\n          this.total = res.data.data.total;\r\n          this.tableData = res.data.data.records;\r\n          // console.log(this.total, this.tableData);\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      })\r\n        .finally(() => {\r\n          this.loadings.table = false;\r\n        });\r\n    },\r\n    deleteRow(row) {\r\n      // console.log(\"deleteRow\", row)\r\n      this.$confirm('删除操作, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        shopkeeperWarehouseDelete({ belongKey: row.belongKey, inventoryKey: row.inventoryKey }).then(res => {\r\n          if (res.data.code == 200) {\r\n            this.$message.success(\"删除成功!\");\r\n            this.getTableData()\r\n            this.$forceUpdate()\r\n          } else {\r\n            this.$message.error(\"删除失败!\");\r\n          }\r\n        });\r\n\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    reload() {\r\n      this.getTableData()\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.page-box {\r\n  text-align: right;\r\n  margin: 20px;\r\n}\r\n\r\n.el-table {\r\n  overflow-y: auto !important;\r\n  overflow-x: auto !important;\r\n}\r\n\r\n.el-input-group {\r\n  width: 300px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.list-model {\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./transferIntegrateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./transferIntegrateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./transferIntegrateList.vue?vue&type=template&id=446b6e37&scoped=true&\"\nimport script from \"./transferIntegrateList.vue?vue&type=script&lang=js&\"\nexport * from \"./transferIntegrateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./transferIntegrateList.vue?vue&type=style&index=0&id=446b6e37&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"446b6e37\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./transferIntegrateList.vue?vue&type=style&index=0&id=446b6e37&prod&lang=scss&scoped=true&\"","import request from \"@/utils/request.js\";\r\nimport qs from \"qs\";\r\n\r\nconst baseUrl = \"/api\"\r\n\r\n//查询盘亏盘盈审批（通过key查单个）\r\nexport function countCheckGetById(data) {\r\n    return request({\r\n        url: baseUrl + \"/countCheck/getById\",\r\n        method: \"get\",\r\n        params: data,\r\n    });\r\n}\r\n\r\n//查询盘亏盘盈审批（分页）\r\nexport function countCheckListPage(data) {\r\n    return request({\r\n        url: baseUrl + \"/countCheck/list-page\",\r\n        method: \"get\",\r\n        params: data,\r\n    });\r\n}\r\n\r\n//查询盘亏盘盈审批（不分页）\r\nexport function countCheckList(data) {\r\n    return request({\r\n        url: baseUrl + \"/countCheck/list\",\r\n        method: \"get\",\r\n        params: data,\r\n    });\r\n}\r\n\r\n\r\n//添加盘亏盘盈审批\r\nexport function countCheckAdd(data) {\r\n    return request({\r\n        url: baseUrl + \"/countCheck/add\",\r\n        method: \"POST\",\r\n        data: data,\r\n    });\r\n}\r\n\r\n//更新盘亏盘盈审批\r\nexport function countCheckUpdate(data) {\r\n    return request({\r\n        url: baseUrl + \"/countCheck/update\",\r\n        method: \"POST\",\r\n        data: data,\r\n    });\r\n}\r\n\r\n//查询采购统计（分页）\r\nexport function purchaseIntegrateListPage(data) {\r\n    return request({\r\n        url: baseUrl + \"/purchaseIntegrate/list-page\",\r\n        method: \"get\",\r\n        params: data,\r\n    });\r\n}\r\n\r\n//查询销售统计（分页）\r\nexport function salesIntegrateListPage(data) {\r\n    return request({\r\n        url: baseUrl + \"/salesIntegrate/list-page\",\r\n        method: \"get\",\r\n        params: data,\r\n    });\r\n}\r\n\r\n//查询调货统计（分页）\r\nexport function transferIntegrateListPage(data) {\r\n    return request({\r\n        url: baseUrl + \"/transferIntegrate/list-page\",\r\n        method: \"get\",\r\n        params: data,\r\n    });\r\n}"],"sourceRoot":""}